# Agentic Data Pipeline Ingestor - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application Settings
# =============================================================================
DEBUG=true
ENV=development
HOST=0.0.0.0
PORT=8000
WORKERS=1

# =============================================================================
# Database Settings
# =============================================================================
# PostgreSQL connection URL
DB_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/pipeline
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=false

# =============================================================================
# Redis Settings
# =============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_SSL=false

# =============================================================================
# OpenSearch Settings (for audit logs)
# =============================================================================
OPENSEARCH_HOSTS=["http://localhost:9200"]
OPENSEARCH_USERNAME=
OPENSEARCH_PASSWORD=
OPENSEARCH_INDEX_PREFIX=pipeline-audit

# =============================================================================
# Security Settings
# =============================================================================
# IMPORTANT: Change this in production!
SECURITY_SECRET_KEY=your-secret-key-here-change-in-production
SECURITY_ALGORITHM=HS256
SECURITY_ACCESS_TOKEN_EXPIRE_MINUTES=30
SECURITY_API_KEY_HEADER=X-API-Key
SECURITY_RATE_LIMIT_DEFAULT=100
SECURITY_RATE_LIMIT_WINDOW=60

# CORS settings (comma-separated)
SECURITY_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# Azure Settings (Optional)
# =============================================================================
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_SUBSCRIPTION_ID=
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_QUEUE_CONNECTION_STRING=

# =============================================================================
# LLM Provider Settings
# =============================================================================
# Azure OpenAI (Primary)
AZURE_OPENAI_API_BASE=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-azure-openai-key

# OpenRouter (Fallback)
OPENROUTER_API_KEY=your-openrouter-key

# OpenAI (Alternative)
OPENAI_API_KEY=your-openai-key

# Anthropic (Alternative)
ANTHROPIC_API_KEY=your-anthropic-key

# =============================================================================
# Observability Settings
# =============================================================================
OTEL_SERVICE_NAME=pipeline-ingestor
OTEL_SERVICE_VERSION=1.0.0
OTEL_ENVIRONMENT=development
OTEL_OTLP_ENDPOINT=
OTEL_LOG_LEVEL=INFO
OTEL_PROMETHEUS_ENABLED=true
OTEL_PROMETHEUS_PORT=9090

# =============================================================================
# Processing Settings
# =============================================================================
PROCESSING_MAX_FILE_SIZE_MB=100
PROCESSING_MAX_PAGES_PER_DOCUMENT=1000
PROCESSING_TEMP_DIR=/tmp/pipeline
PROCESSING_CLEANUP_TEMP_FILES=true
PROCESSING_DEFAULT_TIMEOUT_SECONDS=300
PROCESSING_MAX_RETRIES=3
